<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chirpity Nocmig usage guide</title>
</head>
<body>
<h4 class="text-center bg-dark text-white p-3">Suggested Workflow</h4>
<ol>
    <li>Open an audio file or files. There are a three ways to do this:
        <ol>
            <li>Right-click on the audio file(s) in Windows Explorer and select "Open with" > Chirpity Nocmig</li>
            <li>In the Chirpity Nocmig application, select File > Open Audio File or press Ctrl-O and select the files to open</li>
            <li>Drag and drop the files or folders onto the Chirpity Nocmig application</li>
        </ol>
        Ideally, files will be those recorded by your digital recorder with their original
        timestamp. In this scenario, you will be able to take advantage of the <b>Time of Day</b> mode for the spectrogram timeline, which will show the actual time calls were
        detected. If not, you can still display (and store) the correct time of day for the file and detections if you edit its start time.
        This can be edited by selecting the appropriate date and time on the
        <span class="material-icons-two-tone align-bottom">edit_calendar</span>
                    icon next to the file name on the transport controls panel.

    </li>
    <li>Choose whether to use <b>Nocmig mode.</b> Once the file is loaded, the spectrogram will appear, along with transport controls for
        navigating the audio. A <i>nocmig mode</i> button (<span
                class="material-icons-two-tone align-bottom">dark_mode</span>) will also appear on the
        right hand side. Nocmig mode takes its
        cue from the file creation date and time. It limits the analysis to calls occurring both after the end of civil
        twilight and before the beginning of civil twilight the following day. Currently, the location used for
        dawn/dusk calculations is set to Luton. In future releases, it will be possible to set your own location. <b>N.B.</b>
        If active, Nocmig mode is temporarily disabled for the Analysis of selections.
    </li>
    <li>
        Having determined whether to use Nocmig mode, select &quot;<i>Analyse entire file</i>&quot; from the
        <b>Analysis</b> menu. Depending on the file length, this may take several minutes. A progress indicator will
        appear as a guide to how long this is likely to take. To stop the analysis at any point, press the <b>Esc</b>
        key.
    </li>
</ol>
<h5 class="pt-2">Exploring Detections</h5>
<ol start="4">
    <li>
        As the model makes detections, they appear in a table below the spectrogram. Clicking the detection's row in
        the table will cause the playhead to jump to the start of that detection. Press <b>P</b>, or the
        <span class='material-icons-two-tone play pointer align-bottom'>play_circle_filled</span> icon to play the detection.
        Alternatively, you may press the SpaceBar to play from the beginning of the selection and continue playing the
        audio until you press the SpaceBar again. Clicking the spectrogram will move the playhead to that position.
        Playback will continue, so this allows you to replay a call repeatedly.
    </li>
    <li>
        Selecting the <img src="img/logo/XC.png" alt="XC"> icon will open a search result (in your default web broswer)
        for the detected species' nocturnal flight calls on the Xeno Canto website. Here you can compare the result to
        Nocmig recordings uploaded by others.
    </li>
    <li>
        If multiple detections apply for a given time period, a <span class='material-icons-two-tone'>sync</span> icon will be displayed in the
        Other IDs table column. Clicking this will open rows beneath with the details of those species.
    </li>
</ol>
<h5 class="pt-2">Summary and Filtering Detections</h5>
<ol start="7">
    <li>
        A summary table appears to the left of the results once the model has completed its analysis. Importantly, this
        table allows you to filter the results displayed in the main results
        table. Click the species name in the summary to limit
        the display to that single species. This is <i>extremely</i> useful if several hundred Robin calls were
        detected!
    </li>
</ol>
<h5 class="pt-2">Custom "Deep Dive" Detections</h5>
<ol start="8">
    <li>Sometimes, a call is missed or a detection is erroneous due to the position of the analysis window in relation
        to the call. The window can be moved by dragging it, or you can create a new window by clicking and
        dragging out a custom region on the spectrogram. Once you have a new region, select <b>Analysis > Analyse
            selected interval</b> from the menu. The custom detection is placed at the top of the results table.
        <b>N.B.</b> The detection threshold is much reduced for custom detections, so exercise appropriate caution since
        false positives are more likely. Uncoloured confidence icons should be treated as a "wild guess", even
        considered by the model more likely to be wrong than right.
    </li>
</ol>

<h5 class="pt-2">Amending Results</h5>
<ol start="10">
    <li>It is possible to exclude results from what will be saved by selecting the exclude icon <span
            class="material-icons-two-tone align-bottom">clear</span> . This can be selected on a per-detection basis in
        the results table, or a per-species basis in the summary.
    </li>

</ol>

<h5 class="pt-2">Saving Results</h5>
<ol start="10">
    <li>There are several ways to save results:
        <ol>

            <li>Once the analysis is complete, and after you have made any amendments, you can save the results to a database.
            After this, any time you re-analyse a file, it will bring in the results from the database records. You can also explore and chart saved records.

            <li>Save the detections as a label file in Audacity format. Press <b>Ctrl-A</b> or select <b>File > Save
                Audacity Labels</b> from the menu. By default, the label file will have the same name as the audio file,
                with a ".txt" extension.
            </li>
            <li>
                Save a 3-second audio clip of a detection (in MP3 format). To do this, click the <span
                    class='material-icons-two-tone align-bottom'>file_download</span> icon in the result table. By default, the filename will contain the species and
                timestamp of the detection identifying its position in the original audio file. These files are saved in the Opus format.
            </li>
            <li>
                Save a custom clip. Select a region of the spectrogram by dragging the mouse over the area of audio
                you want to save. From the File menu, select <b>Export Selected Audio</b> to bring up a file save dialog.
            </li>
        </ol>
    </li>
</ol>

<h5 id="reload" class="pt-2">Restoring Results</h5>
<p>When you save your detections in Chirpity Nocmig, a database is updated with the details of the detections. If you
reload your file at a later date, and select analyse file, the saved results are restored. <b>N.B.</b> If the original file is missing because it has
since been compressed to one of the supported formats ('.mp3', '.wav', '.mpga', '.ogg', '.opus', '.flac', '.aac'), so long as it
retains the same name, but with a new extension, Chirpity will find and load that file instead and, rather than take its
cue from this file's creation time, use the original one.</p>
<p>From the records menu, you can also browse saved detections by species, and within a date range of your choosing.
    Furthermore, you can generate charts of the species detected over time.</p>
</body>
</html>