<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https:">
    <!-- Bootstrap & CSS-->
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <script defer src="./node_modules/@popperjs/core/dist/umd/popper.min.js"></script>
    <script defer src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- Additional JavaScript & CSS -->
    <link rel="stylesheet" href="css/style.css" />
    <script defer src="./node_modules/@easepick/bundle/dist/index.umd.js"></script>
    <script defer src="./node_modules/chart.js/dist/chart.umd.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
</head>
<body>

<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="#">Offcanvas</a>
  </div>
</nav>

<div class="offcanvas offcanvas-start text-bg-dark" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Settings</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <!-- Your offcanvas content goes here -->
    <form id="settingsForm" class="fs-6">
        <fieldset class="border border-secondary rounded m-2 mb-0 p-2">
            <legend style="font-size: large;font-weight:bold">Predictions</legend>
            <div>
<a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Model" data-bs-content="Select whether to use Chirpity, optimised for Nocturnal Migration Calls in Europe, or BirdNET, which can detect over 6000 species across the globe.">?</a>
<div class="pe-3 input-group rounded p-2 mb-1">
                
                
                    <label class="input-group-text col-6" for="model-to-use">Model:</label>
                    <select class="form-select mb-0" id="model-to-use">
<option value="chirpity">Chirpity</option>
<option value="birdnet">BirdNet</option>
</select>
</div>
            </div>
            
            <div class="form-group rounded p-2 pe-0 mb-2">
                <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Confidence Threshold" data-bs-content="Determines the minimum confidence required for results to be returned">?</a>
                <label for="confidence">Confidence threshold:</label>
                <div class="input-group">
                    <input type="range" class="form-control-range w-75" id="confidence" min="5" max="100" step="5">
                    <div class="input-group-append">
                        <span class="input-group-text" id="confidence-value">50%</span>
                    </div>
                </div>
            </div>
            <div>
                    <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="List" data-bs-content="Filters the detections returned in results. Local Birds: excludes birds 
unlikely to be found in your region. Nocturnal Birds: excludes bird song and species not known to call at night. The custom list allows you to upload a file listing the species to detect">?</a>
<div class="pe-3 input-group rounded p-2 mb-1">
<label class="input-group-text col-6" for="list-to-use">List:</label>
<select class="form-select mb-0" id="list-to-use">
<option value="location">Local Birds</option>
<option value="nocturnal">Nocturnal Birds</option>
<option value="birds">Birds</option>
<option value="everything">Everything</option>
<option value="custom">Custom</option>
</select>
</div>
<div class="row p-2 d-none" id="choose-file-container">
<div class="col">
<div class="input-group">
<button class="btn btn-outline-secondary" type="button" id="list-file-selector">Select file</button>
<input type="text" class="form-control" id="custom-list-location" aria-describedby="list-file-selector" placeholder="No custom list set" disabled="" readonly="">
</div>
</div>
</div>


<div class="form-group rounded d-none" id="use-location-container">
<div class="form-check form-switch">
<input class="form-check-input" type="checkbox" role="switch" id="local" checked="">
<label class="form-check-label" for="local">Use Location settings</label>
<a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Use Location settings" data-bs-content="When activated, the Nocturnal birds filter reports birds based on your location settings.">?</a>
</div>
</div>

<div id="species-threshold-el">
<a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Species Threshold" data-bs-content="Define the minimum eBird checklist frequency for species inclusion.
If 'Adjust for Seasons' is enabled, the list will be adjusted to include species expected for the recording week.">?</a>
<div class="pe-3 input-group rounded p-2 mb-1">
<span class="input-group-text col-6">Threshold:</span>
<input id="species-frequency-threshold" type="number" class="form-control" style="width: 30%;" value="0.005" step="0.001" min="0.001" max="1" aria-label="species frequency threshold" aria-describedby="species-frequency-threshold">
</div>
<div class="text-nowrap mt-2"><label class="ms-2 me-2" for="species-week">Adjust list for the week of the year</label>
    <span class="form-switch ms-2">
        <input id="species-week" role="switch" type="checkbox" class="form-check-input form-check-inline">
    </span>
</div>                                                                
</div>
</div>

            <div class="m-2"></div>
            <div class="form-group rounded p-2 pe-0 mb-2">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="nocmig">
                    <label class="form-check-label" for="nocmig">Nocmig mode</label>
                    <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Nocmig Mode" data-bs-content="When enabled, Nocmig mode only searches for and only displays detections found during the night">?</a>
                </div>
            </div>
        </fieldset>
        <fieldset class="border border-secondary rounded m-2 mb-0 p-2">
            <legend style="font-size: large;font-weight:bold">System</legend>
                                    <div>
                    <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Language" data-bs-content="Select your preferred language for birds' common names">?</a>
                <div class="pe-3 input-group rounded p-2 mb-1">
                            <label class="input-group-text col-6" for="list-to-use">Language:</label>
                            <select class="form-select mb-0" id="locale">
                                <option value="en_uk">English (UK)</option>
                                <option value="en">English (US)</option>
                                <option value="af">Afrikaans</option>
                                <option value="ar">العربية</option>
                                <option value="cs">Čeština</option>
                                <option value="ca">Català</option>
                                <option value="da">Dansk</option>
                                <option value="de">Deutsch</option>
                                <option value="es">Español</option>
                                <option value="fi">Suomi</option>
                                <option value="fr">Français</option>
                                <option value="hu">Magyar</option>
                                <option value="it">Italiano</option>
                                <option value="ja">日本語</option>
                                <option value="ko">한국어</option>
                                <option value="nl">Nederlands</option>
                                <option value="no">Norsk</option>
                                <option value="pl">Polski</option>
                                <option value="pt">Português</option>
                                <option value="ro">Română</option>
                                <option value="ru">Русский</option>
                                <option value="sk">Slovenčina</option>
                                <option value="sl">Slovenščina</option>
                                <option value="sv">Svenska</option>
                                <option value="th">ไทย</option>
                                <option value="tr">Türkçe</option>
                                <option value="uk">Українська</option>
                                <option value="zh">中文</option>
                                <!-- <option value="custom">Custom</option> -->
                            </select>
                        </div>
                    </div>
                <div class="p-0 chirpity-only no-mac">
                        <div class="form-group rounded p-2 pe-0 mb-2">
                            <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Backend" data-bs-content="The GPU backend can improve performance if you have a dedicated graphics card.">?</a>
                            <div>

                                    <label class="ps-0 pe-1 fs-6 text-start">Backend:</label>
                                    <div class="form-check form-check-inline">
                                        <label class="form-check-label" for="tensorflow">CPU</label>
                                        <input class="form-check-input" type="radio" name="backend" id="tensorflow" value="tensorflow" checked="">

                                </div>

                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="backend" id="webgl" value="webgl">
                                        <label class="form-check-label" for="webgl">GPU</label>
                                    </div>

                            </div>
                        </div>
                    </div>

                <div>
<a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Threads" data-bs-content="The number of parallel predictions to run. By default, 
this is set to the number of CPU cores on the machine for fastest performance. With the GPU backend, a lower number works better e.g. 1-3">?</a>
<div class="form-group rounded p-2 pe-0 mb-2">

<label for="thread-slider">Threads:</label>
<div class="input-group">
    <input type="range" class="form-control-range w-75" id="thread-slider" min="1" max="24">
    <div class="input-group-append">
        <span class="input-group-text" id="threads-value">12</span>
    </div>
</div>
</div>
</div>

                <div>
<a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Batch Size" data-bs-content="Optimising the batch size can increase processing speed on longer files.">?</a>
                        <div class="form-group rounded p-2 pe-0 mb-2">
                            
                            <label for="batch-size">Batch Size:</label>
                            <div class="input-group">
                                <input type="range" class="form-control-range w-75" id="batch-size" min="0" max="7">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="batch-size-value">2</span>
                                </div>
                            </div>
                        </div>
                    </div>
                
                <div>
<a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Audio notification" data-bs-content="When enabled, there will be a system notification when analyses that take over thirty seconds complete.">?</a>
<div class="pe-3 form-group rounded p-2 mb-2">
<div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" role="switch" id="audio-notification">
    <label class="form-check-label" for="audio-notification"></label>Enable analysis completion notifications
    
</div>
</div>
</div>

        </fieldset>
                <fieldset class="border border-secondary rounded m-2 mb-0 p-2">
                    <legend style="font-size: large;font-weight:bold">Default Location </legend>
                    <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Default Location" data-bs-content="Chirpity uses location information to determine the dawn and dusk times for recordings">?</a>
                    <div class="form-group rounded p-2 mb-2">
                        <div class="row">
                            <div class="input-group col">
                                <span class="input-group-text pe-2">Lat:</span>
                                <input id="latitude" type="text"
                                class="form-control ps-2 " placeholder="0.0"
                                aria-label="Latitude" aria-describedby="latitude">
                                
                                <span class="input-group-text pe-2">Lon:</span>
                                <input id="longitude" type="text"
                                class="form-control ps-2" placeholder="0.0"
                                aria-label="Longitude" aria-describedby="longitude">
                            </div>
                        </div>
                        <div id="settingsMap" class="mt-2 border border-secondary rounded"></div>
                        <div class="mt-2" id="place"></div>
                        
                    </div>
                </fieldset>
                <fieldset class="border border-secondary rounded m-2 mb-0 p-2">
                    <legend style="font-size: large;font-weight:bold">Audio Preferences</legend>

                    <div class="me-auto">
                        <div class="form-group rounded p-2 mb-2">
                            <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Volume Adjustment" data-bs-content="Adjust the volume of audio to compensate for low recording levels.">?</a>
                            <label for="gain" class="form-label">
                                Volume Adjustment:
                            </label>
                            <div class="input-group me-0 p-0">
                                <input type="range" class="form-control-range w-75" min="0" max="50" id="gain">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="gain-adjustment">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group rounded p-2 mb-2">
                        <div class="col form-check form-switch">
                            
                            <label class="form-check-label" for="normalise">Normalise Audio:
                                <input class="form-check-input" type="checkbox" role="switch" id="normalise">
                            </label>
                            <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Normalise" data-bs-content="When enabled, the audio you hear will be normalised, expanding the dynamic range.">?</a>
                        </div>
                    </div>
                    <hr class="divider">
                    <legend class="fs-6">Audio Export:</legend>
                        <div class="pe-3 input-group rounded p-2 mb-1">
                            <label for="format" class="input-group-text col-6">Export Format:</label>
                            <select class="form-select mb-0" id="format">
                                <option value="wav">WAV</option>
                                <option value="flac">FLAC</option>
                                <option value="mp3">MP3</option>
                                <!-- <option value="m4a">M4A</option> -->
                                <option value="opus">Opus</option>
                            </select>
                        </div>
                        <div id="bitrate-container" class="pe-3 input-group rounded p-2 mb-1">
                            <label for="bitrate" class="input-group-text col-6">Export Bitrate:</label>
                            <select class="form-select mb-0" id="bitrate">
                                <option value="320">320 kbps</option>
                                <option value="192">192 kbps</option>
                                <option value="160">160 kbps</option>
                                <option value="128">128 kbps</option>
                                <option value="96">96 kbps</option>
                            </select>
                        </div>
                        <div id="quality-container" class="pe-3 input-group rounded p-2 mb-1">
                            <label for="quality" class="input-group-text  col-6">Compression:</label>
                            <select class="form-select mb-0" id="quality">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                                

                        </div>
                        <div class="pe-2 form-group rounded p-2 mb-2">
                            <div class="form-check-inline w-75 form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="downmix">
                                <label class="form-check-label" for="downmix">Convert to mono</label>
                            </div>
                            <a class="ms-auto circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Downmix" data-bs-content="When enabled, exported audio will be downmixed to mono">?</a>
                        </div>
                        
                        <div class="form-group rounded p-2 pe-0 mb-2">
                            <div class="row pe-2">
                                <label class="col-3">Decorators: </label>
                                <div class="col-6 ">
                                    <div class="form-check-inline text-nowrap">
                                        <input class="form-check-input" type="checkbox" id="padding" value="2" checked="">
                                        <label class="form-check-label" for="padding">
                                            Pad
                                        </label>
                                        <input class="form-check-input" type="checkbox" id="fade" disabled="" value="1">
                                        <label class="form-check-label" for="fade">
                                            Fade
                                        </label>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Decorators" data-bs-content="'Pad' adds 2 seconds before and after a selection to the exported audio.
                                    'Fade' adds a 1 second fade effect to the start and end of the audio">?</a>
                                </div>
                            </div>
                        </div>
            </fieldset>
            <fieldset class="border border-secondary rounded m-2 mb-0 p-2">
                <legend style="font-size: large;font-weight:bold">Spectrogram Preferences</legend>
                                    <div class="pe-3 input-group rounded p-2 mb-1">
    <label for="colourmap" class="input-group-text col-6">Colourmap:</label>
    <select class="form-select mb-0" id="colourmap">
                                <option value="greys">Greyscale</option>
                                <option value="bone">Bone</option>
                                <option value="turbidity">Turbidity</option>
                                <option value="chlorophyll">Chlorophyll</option>
                                <option value="viridis">Viridis</option>
                                <option value="cdom">CDom</option>
                                <option value="temperature">Temperature</option>
                                <!-- <option value="density">Density</option>-->
                                <!-- <option value="oxygen">Oxygen</option>-->
                                <!-- <option value="copper">Copper</option>-->
                                <!-- <option value="earth">Earth</option>-->
                                <option value="inferno">Inferno</option>
                                <option value="magma">Magma</option>
                                <option value="plasma">Plasma</option>
                                <option value="hot">Hot</option>
                                <!-- <option value="cubehelix">CubeHelix</option>-->
                                <!-- <option value="phase">Phase</option>-->
                                <!-- <option value="YlOrRd">Yellow/red</option>-->
                                <!-- <option value="picnic">Picnic</option>-->
                                <!-- <option value="electric">Electric</option>-->
                                <!-- <option value="bluered">BlueRed</option>-->
                                <option value="blackbody">Blackbody</option>
                                <!-- <option value="rainbow">Rainbow</option>-->
                                <!-- <option value="rainbow-soft">Rainbow</option>-->
    </select>
</div>
                    <div class="pe-3 input-group rounded p-2 mb-1">
        <label for="timelineSetting" class="input-group-text col-6">Timeline:</label>
        <select class="form-select mb-0" id="timelineSetting">
            <option value="timecode">Timecode</option>
            <option value="timeOfDay">Time of day</option>
        </select>
</div>

            </fieldset>                                                        
            <fieldset class="border border-secondary rounded m-2 p-2 bg-secondary">
                <legend class="pb-2" style="font-size: large"><span class="material-symbols-outlined align-middle">science</span> Advanced features <a class="circle" style="background-color:darkgoldenrod" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Advanced Features" data-bs-content="The settings in this section can impact prediction quailty - for better or worse. Use them with caution!">?</a>
                </legend>

                        <div class="chirpity-only form-group rounded p-2 mb-2">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="context">
                                <label class="form-check-label" for="context">
                                    Context mode
                                </label>
                                <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Context Mode" data-bs-content="When enabled, context mode adapts predictions by analyzing the surrounding context.
                                Not available in the BirdNET model">?</a>
                            </div>
                        </div>
                        <div class="chirpity-only me-auto">
                            <div class="form-group rounded p-2 mb-2">
                                <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Signal to Noise Ratio" data-bs-content="Skip over portions of audio with just background noise. Higher values skip increasingly noisy segments.
                                Not available in the BirdNET model">?</a>
                                <label for="snrValue" class="form-label">
                                    SNR filter:
                                </label>
                                <div class="input-group">
                                    <input type="range" class="form-control-range w-75" min="0" max="10" step="0.5" id="snrValue">
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="SNR-threshold">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="me-auto">
                            <div class="form-group rounded p-2 mb-2">
                                <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="High Pass Filter" data-bs-content="When set, removes low frequency noise below the threshold. If enabled before analysis, the modified audio is sent to the model. If only enabled after analysis, this just affects audio playback">?</a>
                                
                                <label for="HighPassFrequency" class="form-label">
                                    High Pass filter:
                                </label>
                                <div class="input-group me-0 p-0">
                                    <input type="range" class="form-control-range w-75" min="0" max="2500" step="25" id="HighPassFrequency">
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="HP-threshold">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group rounded p-2 me-0 mb-2">
                            <a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Low Shelf Filter" data-bs-content="When used, attenuates low frequency noise below the frequency thresshold. If enabled before analysis, the modified audio is sent to the model. If only enabled after analysis, this just affects audio playback">?</a>
                            <label for="lowShelfFrequency" class="form-label">
                                Low Shelf filter:
                            </label>
                            <div class="input-group me-0 p-0">
                                <input type="range" class="form-control-range w-75" min="0" max="2500" step="100" id="lowShelfFrequency">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="LowShelf-threshold">0</span>
                                </div>
                            </div>
                            
                            <label for="attenuation" class="form-label">Attenuation:</label>
                            <div class="input-group me-0 p-0">
                                
                                <input type="range" class="form-control-range w-75" min="0" max="50" id="attenuation">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="attenuation-threshold">0 dB</span>
                                </div>
                            </div>
    
                </div>
                
                    <div class=" col-auto form-group rounded p-2 mb-2 text-bg-light">
                        <div class="text-nowrap">   
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="debug-mode">
                                <label class="form-check-label me-2" for="debug-mode">Debug mode</label><a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Debug Mode" data-bs-content="Enter debug mode (changes to this setting require a Chirpity relaunch to take effect)">?</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-auto form-group rounded p-2 mb-2 text-bg-light">
                        <div class="text-nowrap">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="do-not-track">
                                <label class="form-check-label me-2" for="do-not-track">Opt out of usage analytics</label><a class="circle" tabindex="-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-title="Disable Tracking" data-bs-content="Chirpity collects anonymous system data to enhance user experience and aid bug tracking. If you do not want to share this information, you can disable it here.">?</a>
                            </div>        
                        </div>
                    </div>
    
            </fieldset>
                                           
</div>

</div>
</div>      
    <!-- Add more content as needed -->
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
